{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Telegram Trigger",
  "description": "Starts the workflow on a Telegram update",
  "x-n8n-node-type": "telegramTrigger",
  "x-n8n-version": [
    1,
    1.1,
    1.2
  ],
  "x-n8n-group": [
    "trigger"
  ],
  "type": "object",
  "properties": {
    "updates": {
      "x-title": "Trigger On",
      "default": [],
      "x-required": true,
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "*",
          "callback_query",
          "channel_post",
          "edited_channel_post",
          "edited_message",
          "inline_query",
          "message",
          "poll",
          "pre_checkout_query",
          "shipping_query"
        ]
      },
      "x-enumNames": [
        "*",
        "Callback Query",
        "Channel Post",
        "Edited Channel Post",
        "Edited Message",
        "Inline Query",
        "Message",
        "Poll",
        "Pre-Checkout Query",
        "Shipping Query"
      ]
    },
    "additionalFields": {
      "x-title": "Additional Fields",
      "default": {},
      "type": "object",
      "properties": {
        "download": {
          "x-title": "Download Images/Files",
          "description": "Telegram delivers the image in multiple sizes. By default, just the large image would be downloaded. If you want to change the size, set the field 'Image Size'.",
          "default": false,
          "type": "boolean"
        },
        "imageSize": {
          "x-title": "Image Size",
          "description": "The size of the image to be downloaded",
          "default": "large",
          "x-displayOptions": {
            "show": {
              "download": [
                true
              ]
            }
          },
          "type": "string",
          "enum": [
            "small",
            "medium",
            "large",
            "extraLarge"
          ],
          "x-enumNames": [
            "Small",
            "Medium",
            "Large",
            "Extra Large"
          ]
        },
        "chatIds": {
          "x-title": "Restrict to Chat IDs",
          "description": "The chat IDs to restrict the trigger to. Multiple can be defined separated by comma.",
          "default": "",
          "x-displayOptions": {
            "show": {
              "@version": [
                {
                  "_cnd": {
                    "gte": 1.1
                  }
                }
              ]
            }
          },
          "type": "string"
        },
        "userIds": {
          "x-title": "Restrict to User IDs",
          "description": "The user IDs to restrict the trigger to. Multiple can be defined separated by comma.",
          "default": "",
          "x-displayOptions": {
            "show": {
              "@version": [
                {
                  "_cnd": {
                    "gte": 1.1
                  }
                }
              ]
            }
          },
          "type": "string"
        }
      }
    }
  },
  "x-subtitle": "=Updates: {{$parameter[\"updates\"].join(\", \")}}",
  "x-icon": "file:telegram.svg",
  "x-inputs": [],
  "x-outputs": [
    "main"
  ],
  "x-credentials": [
    {
      "name": "telegramApi",
      "required": true
    }
  ],
  "x-webhooks": "true"
}
