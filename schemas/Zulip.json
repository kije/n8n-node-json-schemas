{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Zulip",
  "description": "Consume Zulip API",
  "x-n8n-node-type": "zulip",
  "x-n8n-version": 1,
  "x-n8n-group": [
    "output"
  ],
  "type": "object",
  "properties": {
    "resource": {
      "x-title": "Resource",
      "default": "message",
      "type": "string",
      "enum": [
        "message",
        "stream",
        "user"
      ],
      "x-enumNames": [
        "Message",
        "Stream",
        "User"
      ]
    },
    "operation": {
      "x-title": "Operation",
      "default": "create",
      "x-displayOptions": {
        "show": {
          "resource": [
            "user"
          ]
        }
      },
      "type": "string",
      "enum": [
        "create",
        "deactivate",
        "get",
        "getAll",
        "update"
      ],
      "x-enumNames": [
        "Create",
        "Deactivate",
        "Get",
        "Get Many",
        "Update"
      ],
      "x-enumDescriptions": [
        "Create a user",
        "Deactivate a user",
        "Get a user",
        "Get many users",
        "Update a user"
      ]
    },
    "to": {
      "x-title": "To",
      "description": "The destination stream, or a comma-separated list containing the usernames (emails) of the recipients. Choose from the list, or specify IDs using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
      "default": [],
      "x-displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "sendPrivate"
          ]
        }
      },
      "x-required": true,
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "content": {
      "x-title": "Content",
      "description": "The content of the message",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "sendStream"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "stream": {
      "x-title": "Stream Name or ID",
      "description": "The destination stream, or a comma-separated list containing the usernames (emails) of the recipients. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "sendStream"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "topic": {
      "x-title": "Topic Name or ID",
      "description": "The topic of the message. Only required if type is stream, ignored otherwise. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "sendStream"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "messageId": {
      "x-title": "Message ID",
      "description": "Unique identifier for the message",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "delete"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "updateFields": {
      "x-title": "Update Fields",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "type": "object",
      "properties": {
        "content": {
          "x-title": "Content",
          "description": "The content of the message",
          "default": "",
          "type": "string"
        },
        "propagateMode": {
          "x-title": "Propagate Mode",
          "description": "Which message(s) should be edited: just the one indicated in message_id, messages in the same topic that had been sent after this one, or all of them",
          "default": "changeOne",
          "type": "string",
          "enum": [
            "changeOne",
            "changeLater",
            "changeAll"
          ],
          "x-enumNames": [
            "Change One",
            "Change Later",
            "Change All"
          ]
        },
        "topic": {
          "x-title": "Topic",
          "description": "The topic of the message. Only required for stream messages.",
          "default": "",
          "type": "string"
        }
      }
    },
    "dataBinaryProperty": {
      "x-title": "Put Output File in Field",
      "default": "data",
      "x-displayOptions": {
        "show": {
          "resource": [
            "message"
          ],
          "operation": [
            "updateFile"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "jsonParameters": {
      "x-title": "JSON Parameters",
      "default": false,
      "x-displayOptions": {
        "show": {
          "resource": [
            "stream"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "type": "boolean"
    },
    "additionalFieldsJson": {
      "x-title": "Additional Fields",
      "description": "JSON format parameters for stream creation",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "stream"
          ],
          "operation": [
            "update"
          ],
          "jsonParameters": [
            true
          ]
        }
      },
      "oneOf": [
        {
          "type": "string",
          "description": "JSON string"
        },
        {
          "type": "object"
        },
        {
          "type": "array"
        }
      ]
    },
    "subscriptions": {
      "x-title": "Subscriptions",
      "description": "A list of dictionaries containing the the key name and value specifying the name of the stream to subscribe. If the stream does not exist a new stream is created.",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "stream"
          ],
          "operation": [
            "create"
          ],
          "jsonParameters": [
            false
          ]
        }
      },
      "x-required": true,
      "type": "object",
      "properties": {
        "properties": {
          "x-title": "Subscription Properties",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "x-title": "Name",
                "description": "Name of Subscription",
                "default": "",
                "x-required": true,
                "type": "string"
              },
              "description": {
                "x-title": "Description",
                "description": "Description of Subscription",
                "default": "",
                "x-required": true,
                "type": "string"
              }
            }
          }
        }
      }
    },
    "additionalFields": {
      "x-title": "Additional Fields",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "user"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "type": "object",
      "properties": {
        "fullName": {
          "x-title": "Full Name",
          "description": "The users full name",
          "default": "",
          "type": "string"
        },
        "isAdmin": {
          "x-title": "Is Admin",
          "description": "Whether the target user is an administrator",
          "default": false,
          "type": "boolean"
        },
        "isGuest": {
          "x-title": "Is Guest",
          "description": "Whether the target user is a guest",
          "default": false,
          "type": "boolean"
        },
        "profileData": {
          "x-title": "Profile Data",
          "description": "A dictionary containing the to be updated custom profile field data for the user",
          "default": {},
          "type": "object",
          "properties": {
            "property": {
              "x-title": "Property",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "x-title": "ID",
                    "description": "ID of custom profile data value",
                    "default": "",
                    "x-required": true,
                    "type": "string"
                  },
                  "value": {
                    "x-title": "Value",
                    "description": "Value of custom profile data",
                    "default": "",
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "role": {
          "x-title": "Role",
          "description": "Role for the user",
          "default": "",
          "type": "string",
          "enum": [
            600,
            400,
            200,
            300,
            100
          ],
          "x-enumNames": [
            "Guest",
            "Member",
            "Organization Administrator",
            "Organization Moderator",
            "Organization Owner"
          ]
        }
      }
    },
    "streamId": {
      "x-title": "Stream ID",
      "description": "ID of stream to delete",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "stream"
          ],
          "operation": [
            "delete"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "email": {
      "x-title": "Email",
      "description": "The email address of the new user",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "user"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "fullName": {
      "x-title": "Full Name",
      "description": "The full name of the new user",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "user"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "password": {
      "x-title": "Password",
      "description": "The password of the new user",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "user"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "string",
      "format": "password"
    },
    "shortName": {
      "x-title": "Short Name",
      "description": "The short name of the new user. Not user-visible.",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "user"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "userId": {
      "x-title": "User ID",
      "description": "The ID of user to deactivate",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "user"
          ],
          "operation": [
            "deactivate"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    }
  },
  "x-subtitle": "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}",
  "x-icon": "file:zulip.svg",
  "x-inputs": [
    "main"
  ],
  "x-outputs": [
    "main"
  ],
  "x-credentials": [
    {
      "name": "zulipApi",
      "required": true
    }
  ]
}
