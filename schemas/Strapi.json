{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Strapi",
  "description": "Consume Strapi API",
  "x-n8n-node-type": "strapi",
  "x-n8n-version": 1,
  "x-n8n-group": [
    "input"
  ],
  "type": "object",
  "properties": {
    "authentication": {
      "x-title": "Authentication",
      "default": "password",
      "type": "string",
      "enum": [
        "password",
        "token"
      ],
      "x-enumNames": [
        "Username & Password",
        "API Token"
      ]
    },
    "resource": {
      "x-title": "Resource",
      "default": "entry",
      "type": "string",
      "enum": [
        "entry"
      ],
      "x-enumNames": [
        "Entry"
      ]
    },
    "operation": {
      "x-title": "Operation",
      "default": "get",
      "x-displayOptions": {
        "show": {
          "resource": [
            "entry"
          ]
        }
      },
      "type": "string",
      "enum": [
        "create",
        "delete",
        "get",
        "getAll",
        "update"
      ],
      "x-enumNames": [
        "Create",
        "Delete",
        "Get",
        "Get Many",
        "Update"
      ],
      "x-enumDescriptions": [
        "Create an entry",
        "Delete an entry",
        "Get an entry",
        "Get many entries",
        "Update an entry"
      ]
    },
    "contentType": {
      "x-title": "Content Type",
      "description": "Name of the content type",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "columns": {
      "x-title": "Columns",
      "description": "Comma-separated list of the properties which should used as columns for the new rows",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "type": "string"
    },
    "entryId": {
      "x-title": "Entry ID",
      "description": "The ID of the entry to get",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "get"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "returnAll": {
      "x-title": "Return All",
      "description": "Whether to return all results or only up to a given limit",
      "default": false,
      "x-displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "getAll"
          ]
        }
      },
      "type": "boolean"
    },
    "limit": {
      "x-title": "Limit",
      "description": "Max number of results to return",
      "default": 50,
      "x-displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "getAll"
          ],
          "returnAll": [
            false
          ]
        }
      },
      "type": "number",
      "minimum": 1,
      "maximum": 100
    },
    "options": {
      "x-title": "Options",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "getAll"
          ]
        }
      },
      "type": "object",
      "properties": {
        "publicationState": {
          "x-title": "Publication State",
          "description": "Only select entries matching the publication state provided",
          "default": "",
          "type": "string",
          "enum": [
            "live",
            "preview"
          ],
          "x-enumNames": [
            "Live",
            "Preview"
          ]
        },
        "sort": {
          "x-title": "Sort Fields",
          "description": "Name of the fields to sort the data by. By default will be sorted ascendingly. To modify that behavior, you have to add the sort direction after the name of sort field preceded by a colon. For example: <code>name:asc</code>.",
          "default": "",
          "type": "string"
        },
        "where": {
          "x-title": "Where (JSON)",
          "description": "JSON query to filter the data. <a href=\"https://strapi.io/documentation/developer-docs/latest/developer-resources/content-api/content-api.html#filters\">More info</a>.",
          "default": "",
          "type": "string"
        }
      }
    },
    "updateKey": {
      "x-title": "Update Key",
      "description": "Name of the property which decides which rows in the database should be updated. Normally that would be \"id\".",
      "default": "id",
      "x-displayOptions": {
        "show": {
          "resource": [
            "entry"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    }
  },
  "x-subtitle": "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}",
  "x-icon": "file:strapi.svg",
  "x-inputs": [
    "main"
  ],
  "x-outputs": [
    "main"
  ],
  "x-credentials": [
    {
      "name": "strapiApi",
      "required": true,
      "testedBy": "strapiApiTest",
      "displayOptions": {
        "show": {
          "authentication": [
            "password"
          ]
        }
      }
    },
    {
      "name": "strapiTokenApi",
      "required": true,
      "displayOptions": {
        "show": {
          "authentication": [
            "token"
          ]
        }
      }
    }
  ]
}
