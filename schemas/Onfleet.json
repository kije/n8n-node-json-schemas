{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Onfleet",
  "description": "Consume Onfleet API",
  "x-n8n-node-type": "onfleet",
  "x-n8n-version": 1,
  "x-n8n-group": [
    "input"
  ],
  "type": "object",
  "properties": {
    "resource": {
      "x-title": "Resource",
      "description": "The resource to perform operations on",
      "default": "task",
      "type": "string",
      "enum": [
        "admin",
        "container",
        "destination",
        "hub",
        "organization",
        "recipient",
        "task",
        "team",
        "worker"
      ],
      "x-enumNames": [
        "Admin",
        "Container",
        "Destination",
        "Hub",
        "Organization",
        "Recipient",
        "Task",
        "Team",
        "Worker"
      ]
    },
    "operation": {
      "x-title": "Operation",
      "default": "get",
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ]
        }
      },
      "type": "string",
      "enum": [
        "create",
        "delete",
        "get",
        "getAll",
        "getSchedule",
        "update"
      ],
      "x-enumNames": [
        "Create",
        "Delete",
        "Get",
        "Get Many",
        "Get Schedule",
        "Update"
      ],
      "x-enumDescriptions": [
        "Create a new Onfleet worker",
        "Delete an Onfleet worker",
        "Get a specific Onfleet worker",
        "Get many Onfleet workers",
        "Get a specific Onfleet worker schedule",
        "Update an Onfleet worker"
      ]
    },
    "id": {
      "x-title": "Worker ID",
      "description": "The ID of the worker object for lookup",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "get",
            "getSchedule",
            "setSchedule",
            "update",
            "delete"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "returnAll": {
      "x-title": "Return All",
      "description": "Whether to return all results or only up to a given limit",
      "default": false,
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "getAll"
          ]
        }
      },
      "type": "boolean"
    },
    "limit": {
      "x-title": "Limit",
      "description": "Max number of results to return",
      "default": 64,
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "getAll"
          ],
          "returnAll": [
            false
          ]
        }
      },
      "type": "number",
      "minimum": 1,
      "maximum": 64
    },
    "name": {
      "x-title": "Name",
      "description": "The worker's name",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "email": {
      "x-title": "Email",
      "description": "The administrator's email address",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "admin"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "additionalFields": {
      "x-title": "Additional Fields",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "type": "object",
      "properties": {
        "capacity": {
          "x-title": "Capacity",
          "description": "The maximum number of units this worker can carry, for route optimization purposes",
          "default": 0,
          "type": "number"
        },
        "displayName": {
          "x-title": "Display Name",
          "description": "This value is used in place of the worker's actual name within sms notifications, delivery tracking pages, and across organization boundaries",
          "default": "",
          "type": "string"
        },
        "vehicle": {
          "x-title": "Vehicle",
          "default": {},
          "type": "object",
          "properties": {
            "vehicleProperties": {
              "x-title": "Vehicle Properties",
              "type": "object",
              "properties": {
                "type": {
                  "x-title": "Type",
                  "description": "Whether the worker has vehicle or not. If it's not provided, this worker will be treated as if on foot.",
                  "default": "",
                  "x-required": true,
                  "type": "string",
                  "enum": [
                    "BICYCLE",
                    "CAR",
                    "MOTORCYCLE",
                    "TRUCK"
                  ],
                  "x-enumNames": [
                    "Bicycle",
                    "Car",
                    "Motorcycle",
                    "Truck"
                  ]
                },
                "description": {
                  "x-title": "Description",
                  "description": "The vehicle's make, model, year, or any other relevant identifying details",
                  "default": "",
                  "type": "string"
                },
                "licensePlate": {
                  "x-title": "License Plate",
                  "description": "The vehicle's license plate number",
                  "default": "",
                  "type": "string"
                },
                "color": {
                  "x-title": "Color",
                  "description": "The vehicle's color",
                  "default": "",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "updateFields": {
      "x-title": "Update Fields",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "update"
          ]
        }
      },
      "type": "object",
      "properties": {
        "capacity": {
          "x-title": "Capacity",
          "description": "The maximum number of units this worker can carry, for route optimization purposes",
          "default": 0,
          "type": "number"
        },
        "displayName": {
          "x-title": "Display Name",
          "description": "This value is used in place of the worker's actual name within sms notifications, delivery tracking pages, and across organization boundaries",
          "default": "",
          "type": "string"
        },
        "name": {
          "x-title": "Name",
          "description": "The worker's name",
          "default": "",
          "type": "string"
        },
        "teams": {
          "x-title": "Team Names or IDs",
          "description": "One or more teams of which the worker is a member. Choose from the list, or specify IDs using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
          "default": [],
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "containerType": {
      "x-title": "Container Type",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "container"
          ],
          "operation": [
            "get",
            "addTask"
          ]
        }
      },
      "x-required": true,
      "type": "string",
      "enum": [
        "organizations",
        "teams",
        "workers"
      ],
      "x-enumNames": [
        "Organizations",
        "Teams",
        "Workers"
      ]
    },
    "containerId": {
      "x-title": "Container ID",
      "description": "The object ID according to the container chosen",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "container"
          ],
          "operation": [
            "get",
            "addTask",
            "updateTask"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "type": {
      "x-title": "Insert Type",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "container"
          ],
          "operation": [
            "addTask"
          ]
        }
      },
      "x-required": true,
      "type": "string",
      "enum": [
        -1,
        0,
        1
      ],
      "x-enumNames": [
        "Append",
        "Prepend",
        "At Specific Index"
      ]
    },
    "index": {
      "x-title": "Index",
      "description": "The index given indicates the position where the tasks are going to be inserted",
      "default": 0,
      "x-displayOptions": {
        "show": {
          "resource": [
            "container"
          ],
          "operation": [
            "addTask"
          ],
          "type": [
            1
          ]
        }
      },
      "x-required": true,
      "type": "number"
    },
    "tasks": {
      "x-title": "Task IDs",
      "description": "Task's ID that are going to be used",
      "default": [],
      "x-displayOptions": {
        "show": {
          "resource": [
            "container"
          ],
          "operation": [
            "addTask",
            "updateTask"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "options": {
      "x-title": "Options",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "get"
          ]
        }
      },
      "type": "object",
      "properties": {
        "analytics": {
          "x-title": "Analytics",
          "description": "Whether a more detailed response is needed, includes basic worker duty event, traveled distance (meters) and time analytics",
          "default": true,
          "type": "boolean"
        },
        "filter": {
          "x-title": "Fields to Return",
          "description": "A list of fields to show in the response, if all are not desired",
          "default": [],
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "accountStatus",
              "activeTask",
              "capacity",
              "delayTime",
              "displayName",
              "imageUrl",
              "location",
              "metadata",
              "name",
              "onDuty",
              "organization",
              "phone",
              "tasks",
              "teams",
              "timeCreated",
              "timeLastModified",
              "timeLastSeen",
              "userData",
              "vehicle",
              "id"
            ]
          },
          "x-enumNames": [
            "Account Status",
            "Active Task",
            "Capacity",
            "Delay Time",
            "Display Name",
            "Image Url",
            "Location",
            "Metadata",
            "Name",
            "On Duty",
            "Organization",
            "Phone",
            "Tasks",
            "Teams",
            "Time Created",
            "Time Last Modified",
            "Time Last Seen",
            "User Data",
            "Vehicle",
            "Worker ID"
          ]
        }
      }
    },
    "unparsed": {
      "x-title": "Unparsed Address",
      "description": "Whether or not the address is specified in a single unparsed string",
      "default": false,
      "x-displayOptions": {
        "show": {
          "resource": [
            "destination"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "boolean"
    },
    "address": {
      "x-title": "Destination Address",
      "description": "The destination's street address details",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "destination"
          ],
          "operation": [
            "create"
          ],
          "unparsed": [
            true
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "addressNumber": {
      "x-title": "Number",
      "description": "The number component of this address, it may also contain letters",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "destination"
          ],
          "operation": [
            "create"
          ],
          "unparsed": [
            false
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "addressStreet": {
      "x-title": "Street",
      "description": "The name of the street",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "destination"
          ],
          "operation": [
            "create"
          ],
          "unparsed": [
            false
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "addressCity": {
      "x-title": "City",
      "description": "The name of the municipality",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "destination"
          ],
          "operation": [
            "create"
          ],
          "unparsed": [
            false
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "addressCountry": {
      "x-title": "Country",
      "description": "The name of the country",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "destination"
          ],
          "operation": [
            "create"
          ],
          "unparsed": [
            false
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "destination": {
      "x-title": "Destination",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "task"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "object",
      "properties": {
        "destinationProperties": {
          "x-title": "Destination Properties",
          "type": "object",
          "properties": {
            "unparsed": {
              "x-title": "Unparsed Address",
              "description": "Whether or not the address is specified in a single unparsed string",
              "default": false,
              "type": "boolean"
            },
            "address": {
              "x-title": "Destination Address",
              "description": "The destination's street address details",
              "default": "",
              "x-displayOptions": {
                "show": {
                  "unparsed": [
                    true
                  ]
                }
              },
              "x-required": true,
              "type": "string"
            },
            "addressNumber": {
              "x-title": "Number",
              "description": "The number component of this address, it may also contain letters",
              "default": "",
              "x-displayOptions": {
                "show": {
                  "unparsed": [
                    false
                  ]
                }
              },
              "x-required": true,
              "type": "string"
            },
            "addressStreet": {
              "x-title": "Street",
              "description": "The name of the street",
              "default": "",
              "x-displayOptions": {
                "show": {
                  "unparsed": [
                    false
                  ]
                }
              },
              "x-required": true,
              "type": "string"
            },
            "addressCity": {
              "x-title": "City",
              "description": "The name of the municipality",
              "default": "",
              "x-displayOptions": {
                "show": {
                  "unparsed": [
                    false
                  ]
                }
              },
              "x-required": true,
              "type": "string"
            },
            "addressState": {
              "x-title": "State",
              "default": "",
              "x-displayOptions": {
                "show": {
                  "unparsed": [
                    false
                  ]
                }
              },
              "x-required": true,
              "type": "string"
            },
            "addressCountry": {
              "x-title": "Country",
              "description": "The name of the country",
              "default": "",
              "x-displayOptions": {
                "show": {
                  "unparsed": [
                    false
                  ]
                }
              },
              "x-required": true,
              "type": "string"
            },
            "addressPostalCode": {
              "x-title": "Postal Code",
              "description": "The postal or zip code",
              "default": "",
              "x-displayOptions": {
                "show": {
                  "unparsed": [
                    false
                  ]
                }
              },
              "type": "string"
            },
            "addressName": {
              "x-title": "Address Name",
              "description": "A name associated with this address",
              "default": "",
              "type": "string"
            },
            "addressApartment": {
              "x-title": "Apartment",
              "description": "The suite or apartment number, or any additional relevant information",
              "default": "",
              "type": "string"
            },
            "addressNotes": {
              "x-title": "Address Notes",
              "description": "Notes about the destination",
              "default": "",
              "type": "string"
            }
          }
        }
      }
    },
    "getBy": {
      "x-title": "Get By",
      "description": "The variable that is used for looking up a recipient",
      "default": "id",
      "x-displayOptions": {
        "show": {
          "resource": [
            "recipient"
          ],
          "operation": [
            "get"
          ]
        }
      },
      "x-required": true,
      "type": "string",
      "enum": [
        "id",
        "phone",
        "name"
      ],
      "x-enumNames": [
        "ID",
        "Phone",
        "Name"
      ]
    },
    "phone": {
      "x-title": "Phone",
      "description": "A list of workerâ€™s phone numbers",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "recipientName": {
      "x-title": "Recipient Name",
      "description": "The recipient's complete name",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "recipient"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "recipientPhone": {
      "x-title": "Recipient Phone",
      "description": "A unique, valid phone number as per the organization's country if there's no leading + sign. If a phone number has a leading + sign, it will disregard the organization's country setting.",
      "default": "",
      "x-displayOptions": {
        "show": {
          "resource": [
            "recipient"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "success": {
      "x-title": "Complete as a Success",
      "description": "Whether the task's completion was successful",
      "default": true,
      "x-displayOptions": {
        "show": {
          "resource": [
            "task"
          ],
          "operation": [
            "complete"
          ]
        }
      },
      "x-required": true,
      "type": "boolean"
    },
    "filters": {
      "x-title": "Filters",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "getAll"
          ],
          "byLocation": [
            false
          ]
        }
      },
      "type": "object",
      "properties": {
        "states": {
          "x-title": "States",
          "description": "List of worker states",
          "default": [],
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              2,
              1,
              0
            ]
          },
          "x-enumNames": [
            "Active (On-Duty, Active Task)",
            "Idle (On-Duty, No Active Task)",
            "Off-Duty"
          ]
        },
        "teams": {
          "x-title": "Team Names or IDs",
          "description": "A list of the teams that workers must be part of. Choose from the list, or specify IDs using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
          "default": [],
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "phones": {
          "x-title": "Phones",
          "description": "A list of workers' phone numbers",
          "default": [],
          "type": "string"
        }
      }
    },
    "overrideFields": {
      "x-title": "Override Fields",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "task"
          ],
          "operation": [
            "clone"
          ]
        }
      },
      "type": "object",
      "properties": {
        "completeAfter": {
          "x-title": "Complete After",
          "description": "The earliest time the task should be completed",
          "default": null,
          "type": "string",
          "format": "date-time"
        },
        "completeBefore": {
          "x-title": "Complete Before",
          "description": "The latest time the task should be completed",
          "default": null,
          "type": "string",
          "format": "date-time"
        },
        "includeBarcodes": {
          "x-title": "Include Barcodes",
          "default": false,
          "type": "boolean"
        },
        "includeDependencies": {
          "x-title": "Include Dependencies",
          "default": false,
          "type": "boolean"
        },
        "includeMetadata": {
          "x-title": "Include Metadata",
          "default": false,
          "type": "boolean"
        },
        "notes": {
          "x-title": "Notes",
          "description": "Notes for the task",
          "default": "",
          "type": "string"
        },
        "pickupTask": {
          "x-title": "Pick Up Task",
          "description": "Whether the task is a pickup task",
          "default": false,
          "type": "boolean"
        },
        "serviceTime": {
          "x-title": "Service Time",
          "description": "The number of minutes to be spent by the worker on arrival at this task's destination, for route optimization purposes",
          "default": 0,
          "type": "number"
        }
      }
    },
    "workers": {
      "x-title": "Worker Names or IDs",
      "description": "A list of workers. Choose from the list, or specify IDs using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
      "default": [],
      "x-displayOptions": {
        "show": {
          "resource": [
            "team"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "managers": {
      "x-title": "Administrator Names or IDs",
      "description": "A list of managing administrators. Choose from the list, or specify IDs using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
      "default": [],
      "x-displayOptions": {
        "show": {
          "resource": [
            "team"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "byLocation": {
      "x-title": "Search by Location",
      "description": "Whether to search for only those workers who are currently within a certain target area",
      "default": false,
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "getAll"
          ]
        }
      },
      "x-required": true,
      "type": "boolean"
    },
    "teams": {
      "x-title": "Team Names or IDs",
      "description": "One or more teams of which the worker is a member. Choose from the list, or specify IDs using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
      "default": [],
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "create"
          ]
        }
      },
      "x-required": true,
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "longitude": {
      "x-title": "Longitude",
      "description": "The longitude component of the coordinate pair",
      "default": 0,
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "getAll"
          ],
          "byLocation": [
            true
          ]
        }
      },
      "x-required": true,
      "type": "number",
      "x-precision": 14
    },
    "latitude": {
      "x-title": "Latitude",
      "description": "The latitude component of the coordinate pair",
      "default": 0,
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "getAll"
          ],
          "byLocation": [
            true
          ]
        }
      },
      "x-required": true,
      "type": "number",
      "x-precision": 14
    },
    "schedule": {
      "x-title": "Schedule",
      "default": {},
      "x-displayOptions": {
        "show": {
          "resource": [
            "worker"
          ],
          "operation": [
            "setSchedule"
          ]
        }
      },
      "type": "object",
      "properties": {
        "scheduleProperties": {
          "x-title": "Schedule Properties",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "date": {
                "x-title": "Date",
                "description": "Schedule's date",
                "default": "",
                "x-required": true,
                "type": "string",
                "format": "date-time"
              },
              "timezone": {
                "x-title": "Timezone Name or ID",
                "description": "A valid timezone. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
                "default": "",
                "x-required": true,
                "type": "string"
              },
              "shifts": {
                "x-title": "Shifts",
                "default": {},
                "type": "object",
                "properties": {
                  "shiftsProperties": {
                    "x-title": "Shifts Properties",
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "start": {
                          "x-title": "Start",
                          "description": "Start time",
                          "default": "",
                          "x-required": true,
                          "type": "string",
                          "format": "date-time"
                        },
                        "end": {
                          "x-title": "End",
                          "description": "End time",
                          "default": "",
                          "x-required": true,
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "x-subtitle": "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}",
  "x-icon": "file:Onfleet.svg",
  "x-inputs": [
    "main"
  ],
  "x-outputs": [
    "main"
  ],
  "x-credentials": [
    {
      "name": "onfleetApi",
      "required": true,
      "testedBy": "onfleetApiTest"
    }
  ]
}
