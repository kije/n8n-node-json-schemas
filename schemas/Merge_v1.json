{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Merge",
  "description": "Merges data of multiple streams once data from both is available",
  "x-n8n-node-type": "merge",
  "x-n8n-version": 1,
  "x-n8n-group": [
    "transform"
  ],
  "type": "object",
  "properties": {
    "mode": {
      "x-title": "Mode",
      "description": "How data of branches should be merged",
      "default": "append",
      "type": "string",
      "enum": [
        "append",
        "keepKeyMatches",
        "mergeByIndex",
        "mergeByKey",
        "multiplex",
        "passThrough",
        "removeKeyMatches",
        "wait"
      ],
      "x-enumNames": [
        "Append",
        "Keep Key Matches",
        "Merge By Index",
        "Merge By Key",
        "Multiplex",
        "Pass-Through",
        "Remove Key Matches",
        "Wait"
      ],
      "x-enumDescriptions": [
        "Combines data of both inputs. The output will contain items of input 1 and input 2.",
        "Keeps data of input 1 if it does find a match with data of input 2",
        "Merges data of both inputs. The output will contain items of input 1 merged with data of input 2. Merge happens depending on the index of the items. So first item of input 1 will be merged with first item of input 2 and so on.",
        "Merges data of both inputs. The output will contain items of input 1 merged with data of input 2. Merge happens depending on a defined key.",
        "Merges each value of one input with each value of the other input. The output will contain (m * n) items where (m) and (n) are lengths of the inputs.",
        "Passes through data of one input. The output will contain only items of the defined input.",
        "Keeps data of input 1 if it does NOT find match with data of input 2",
        "Waits till data of both inputs is available and will then output a single empty item. Source Nodes must connect to both Input 1 and 2. This node only supports 2 Sources, if you need more Sources, connect multiple Merge nodes in series. This node will not output any data."
      ]
    },
    "join": {
      "x-title": "Join",
      "description": "How many items the output will contain if inputs contain different amount of items",
      "default": "left",
      "x-displayOptions": {
        "show": {
          "mode": [
            "mergeByIndex"
          ]
        }
      },
      "type": "string",
      "enum": [
        "inner",
        "left",
        "outer"
      ],
      "x-enumNames": [
        "Inner Join",
        "Left Join",
        "Outer Join"
      ],
      "x-enumDescriptions": [
        "Merges as many items as both inputs contain. (Example: Input1 = 5 items, Input2 = 3 items | Output will contain 3 items).",
        "Merges as many items as first input contains. (Example: Input1 = 3 items, Input2 = 5 items | Output will contain 3 items).",
        "Merges as many items as input contains with most items. (Example: Input1 = 3 items, Input2 = 5 items | Output will contain 5 items)."
      ]
    },
    "propertyName1": {
      "x-title": "Property Input 1",
      "description": "Name of property which decides which items to merge of input 1",
      "default": "",
      "x-displayOptions": {
        "show": {
          "mode": [
            "keepKeyMatches",
            "mergeByKey",
            "removeKeyMatches"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "propertyName2": {
      "x-title": "Property Input 2",
      "description": "Name of property which decides which items to merge of input 2",
      "default": "",
      "x-displayOptions": {
        "show": {
          "mode": [
            "keepKeyMatches",
            "mergeByKey",
            "removeKeyMatches"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "output": {
      "x-title": "Output Data",
      "description": "Defines of which input the data should be used as output of node",
      "default": "input1",
      "x-displayOptions": {
        "show": {
          "mode": [
            "passThrough"
          ]
        }
      },
      "type": "string",
      "enum": [
        "input1",
        "input2"
      ],
      "x-enumNames": [
        "Input 1",
        "Input 2"
      ]
    },
    "overwrite": {
      "x-title": "Overwrite",
      "description": "Select when to overwrite the values from Input1 with values from Input 2",
      "default": "always",
      "x-displayOptions": {
        "show": {
          "mode": [
            "mergeByKey"
          ]
        }
      },
      "type": "string",
      "enum": [
        "always",
        "blank",
        "undefined"
      ],
      "x-enumNames": [
        "Always",
        "If Blank",
        "If Missing"
      ],
      "x-enumDescriptions": [
        "Always overwrites everything",
        "Overwrites only values of \"null\", \"undefined\" or empty string",
        "Only adds values which do not exist yet"
      ]
    }
  },
  "x-subtitle": "={{$parameter[\"mode\"]}}",
  "x-icon": "file:merge.svg",
  "x-inputs": [
    "main",
    "main"
  ],
  "x-outputs": [
    "main"
  ]
}
