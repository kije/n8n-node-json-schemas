{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "SIGNL4",
  "description": "Consume SIGNL4 API",
  "x-n8n-node-type": "signl4",
  "x-n8n-version": 1,
  "x-n8n-group": [
    "transform"
  ],
  "type": "object",
  "properties": {
    "resource": {
      "x-title": "Resource",
      "default": "alert",
      "type": "string",
      "enum": [
        "alert"
      ],
      "x-enumNames": [
        "Alert"
      ]
    },
    "operation": {
      "x-title": "Operation",
      "default": "send",
      "x-displayOptions": {
        "show": {
          "resource": [
            "alert"
          ]
        }
      },
      "type": "string",
      "enum": [
        "send",
        "resolve"
      ],
      "x-enumNames": [
        "Send",
        "Resolve"
      ],
      "x-enumDescriptions": [
        "Send an alert",
        "Resolve an alert"
      ]
    },
    "message": {
      "x-title": "Message",
      "description": "A more detailed description for the alert",
      "default": "",
      "x-displayOptions": {
        "show": {
          "operation": [
            "send"
          ],
          "resource": [
            "alert"
          ]
        }
      },
      "type": "string"
    },
    "additionalFields": {
      "x-title": "Additional Fields",
      "default": {},
      "x-displayOptions": {
        "show": {
          "operation": [
            "send"
          ],
          "resource": [
            "alert"
          ]
        }
      },
      "type": "object",
      "properties": {
        "alertingScenario": {
          "x-title": "Alerting Scenario",
          "default": "single_ack",
          "type": "string",
          "enum": [
            "single_ack",
            "multi_ack"
          ],
          "x-enumNames": [
            "Single ACK",
            "Multi ACK"
          ],
          "x-enumDescriptions": [
            "In case only one person needs to confirm this Signl",
            "In case this alert must be confirmed by the number of people who are on duty at the time this Singl is raised"
          ]
        },
        "attachmentsUi": {
          "x-title": "Attachments",
          "default": {},
          "type": "object",
          "properties": {
            "attachmentsBinary": {
              "x-title": "Attachments Binary",
              "type": "object",
              "properties": {
                "property": {
                  "x-title": "Property Name",
                  "description": "Name of the binary properties which contain data which should be added as attachment",
                  "default": "",
                  "type": "string"
                }
              }
            }
          }
        },
        "externalId": {
          "x-title": "External ID",
          "description": "If the event originates from a record in a 3rd party system, use this parameter to pass the unique ID of that record. That ID will be communicated in outbound webhook notifications from SIGNL4, which is great for correlation/synchronization of that record with the alert. If you resolve / close an alert you must use the same External ID as in the original alert.",
          "default": "",
          "type": "string"
        },
        "filtering": {
          "x-title": "Filtering",
          "description": "Whether to apply event filtering for this event, or not. If set to true, the event will only trigger a notification to the team, if it contains at least one keyword from one of your services and system categories (i.e. it is whitelisted)",
          "default": false,
          "type": "boolean"
        },
        "locationFieldsUi": {
          "x-title": "Location",
          "description": "Transmit location information ('latitude, longitude') with your event and display a map in the mobile app",
          "default": {},
          "type": "object",
          "properties": {
            "locationFieldsValues": {
              "x-title": "Location",
              "type": "object",
              "properties": {
                "latitude": {
                  "x-title": "Latitude",
                  "description": "The location latitude",
                  "default": "",
                  "x-required": true,
                  "type": "string"
                },
                "longitude": {
                  "x-title": "Longitude",
                  "description": "The location longitude",
                  "default": "",
                  "x-required": true,
                  "type": "string"
                }
              }
            }
          }
        },
        "service": {
          "x-title": "Service",
          "description": "Assigns the alert to the service/system category with the specified name",
          "default": "",
          "type": "string"
        },
        "title": {
          "x-title": "Title",
          "description": "The title or subject of this alert",
          "default": "",
          "type": "string"
        }
      }
    },
    "externalId": {
      "x-title": "External ID",
      "description": "If the event originates from a record in a 3rd party system, use this parameter to pass the unique ID of that record. That ID will be communicated in outbound webhook notifications from SIGNL4, which is great for correlation/synchronization of that record with the alert. If you resolve / close an alert you must use the same External ID as in the original alert.",
      "default": "",
      "x-displayOptions": {
        "show": {
          "operation": [
            "resolve"
          ],
          "resource": [
            "alert"
          ]
        }
      },
      "type": "string"
    }
  },
  "x-subtitle": "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}",
  "x-icon": "file:signl4.png",
  "x-inputs": [
    "main"
  ],
  "x-outputs": [
    "main"
  ],
  "x-credentials": [
    {
      "name": "signl4Api",
      "required": true
    }
  ]
}
