{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Respond to Webhook",
  "description": "Returns data for Webhook",
  "x-n8n-node-type": "respondToWebhook",
  "x-n8n-version": [
    1,
    1.1,
    1.2,
    1.3,
    1.4,
    1.5
  ],
  "x-n8n-group": [
    "transform"
  ],
  "type": "object",
  "properties": {
    "enableResponseOutput": {
      "x-title": "Enable Response Output Branch",
      "description": "Whether to provide an additional output branch with the response sent to the webhook",
      "default": false,
      "x-displayOptions": {
        "show": {
          "@version": [
            {
              "_cnd": {
                "gte": 1.4
              }
            }
          ]
        }
      },
      "type": "boolean"
    },
    "respondWith": {
      "x-title": "Respond With",
      "description": "The data that should be returned",
      "default": "firstIncomingItem",
      "x-displayOptions": {
        "show": {
          "@version": [
            {
              "_cnd": {
                "gte": 1.2
              }
            }
          ]
        }
      },
      "type": "string",
      "enum": [
        "allIncomingItems",
        "binary",
        "firstIncomingItem",
        "json",
        "jwt",
        "noData",
        "redirect",
        "text"
      ],
      "x-enumNames": [
        "All Incoming Items",
        "Binary File",
        "First Incoming Item",
        "JSON",
        "JWT Token",
        "No Data",
        "Redirect",
        "Text"
      ],
      "x-enumDescriptions": [
        "Respond with all input JSON items",
        "Respond with incoming file binary data",
        "Respond with the first input JSON item",
        "Respond with a custom JSON body",
        "Respond with a JWT token",
        "Respond with an empty body",
        "Respond with a redirect to a given URL",
        "Respond with a simple text message body"
      ]
    },
    "credentials": {
      "x-title": "Credentials",
      "default": "",
      "x-displayOptions": {
        "show": {
          "respondWith": [
            "jwt"
          ]
        }
      },
      "type": "string",
      "x-n8n-type": "credentials"
    },
    "redirectURL": {
      "x-title": "Redirect URL",
      "description": "The URL to redirect to",
      "default": "",
      "x-displayOptions": {
        "show": {
          "respondWith": [
            "redirect"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "responseBody": {
      "x-title": "Response Body",
      "description": "The HTTP response text data",
      "default": "",
      "x-displayOptions": {
        "show": {
          "respondWith": [
            "text"
          ]
        }
      },
      "type": "string",
      "x-rows": 2
    },
    "payload": {
      "x-title": "Payload",
      "description": "The payload to include in the JWT token",
      "default": "{\n  \"myField\": \"value\"\n}",
      "x-displayOptions": {
        "show": {
          "respondWith": [
            "jwt"
          ]
        }
      },
      "oneOf": [
        {
          "type": "string",
          "description": "JSON string"
        },
        {
          "type": "object"
        },
        {
          "type": "array"
        }
      ]
    },
    "responseDataSource": {
      "x-title": "Response Data Source",
      "default": "automatically",
      "x-displayOptions": {
        "show": {
          "respondWith": [
            "binary"
          ]
        }
      },
      "type": "string",
      "enum": [
        "automatically",
        "set"
      ],
      "x-enumNames": [
        "Choose Automatically From Input",
        "Specify Myself"
      ],
      "x-enumDescriptions": [
        "Use if input data will contain a single piece of binary data",
        "Enter the name of the input field the binary data will be in"
      ]
    },
    "inputFieldName": {
      "x-title": "Input Field Name",
      "description": "The name of the node input field with the binary data",
      "default": "data",
      "x-displayOptions": {
        "show": {
          "respondWith": [
            "binary"
          ],
          "responseDataSource": [
            "set"
          ]
        }
      },
      "x-required": true,
      "type": "string"
    },
    "options": {
      "x-title": "Options",
      "default": {},
      "type": "object",
      "properties": {
        "responseCode": {
          "x-title": "Response Code",
          "description": "The HTTP response code to return. Defaults to 200.",
          "default": 200,
          "type": "number",
          "minimum": 100,
          "maximum": 599
        },
        "responseHeaders": {
          "x-title": "Response Headers",
          "description": "Add headers to the webhook response",
          "default": {},
          "type": "object",
          "properties": {
            "entries": {
              "x-title": "Entries",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "x-title": "Name",
                    "description": "Name of the header",
                    "default": "",
                    "type": "string"
                  },
                  "value": {
                    "x-title": "Value",
                    "description": "Value of the header",
                    "default": "",
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responseKey": {
          "x-title": "Put Response in Field",
          "description": "The name of the response field to put all items in",
          "default": "",
          "x-displayOptions": {
            "show": {
              "/respondWith": [
                "allIncomingItems",
                "firstIncomingItem"
              ]
            }
          },
          "type": "string"
        },
        "enableStreaming": {
          "x-title": "Enable Streaming",
          "description": "Whether to enable streaming to the response",
          "default": true,
          "x-displayOptions": {
            "show": {
              "/respondWith": [
                "allIncomingItems",
                "firstIncomingItem",
                "text",
                "json",
                "jwt"
              ],
              "@version": [
                {
                  "_cnd": {
                    "gte": 1.5
                  }
                }
              ]
            }
          },
          "type": "boolean"
        }
      }
    }
  },
  "x-icon": {
    "light": "file:webhook.svg",
    "dark": "file:webhook.dark.svg"
  },
  "x-inputs": [
    "main"
  ],
  "x-outputs": "={{((version, parameters) => {\n    const multipleOutputs = version === 1.3 || (version >= 1.4 && parameters.enableResponseOutput);\n    if (multipleOutputs) {\n        return [\n            {\n                type: 'main',\n                displayName: 'Input Data',\n            },\n            {\n                type: 'main',\n                displayName: 'Response',\n            },\n        ];\n    }\n    return ['main'];\n})($nodeVersion, $parameter)}}",
  "x-credentials": [
    {
      "name": "jwtAuth",
      "required": true,
      "displayOptions": {
        "show": {
          "respondWith": [
            "jwt"
          ]
        }
      }
    }
  ]
}
